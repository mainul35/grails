def LIBS = "libs"
def MAIN = "src/main"
def WEB_APP = MAIN + "/webapp"
def WEB_INF = WEB_APP + "/WEB-INF"
def BUILD_DIR = "build"
def BUILD_LIB = BUILD_DIR + "/libs"
def BUILD_ZIP = BUILD_LIB + "/build_zip"


task cleanAll(type: Delete){
    doLast{
        print BUILD_ZIP

        followSymlinks = true
    }
}


task copyAllContent(type: Copy){
    doLast{
        from WEB_INF
        from LIBS
        into BUILD_ZIP
    }
}

task copyData(){
    doLast{
        println 'copy endpoint'
        copy{
            from 'src/main/webapp'
            into 'build/new'
        }
    }
}


task deleteIt(type: Delete) {
    delete 'touhid'
    followSymlinks = true
}

task other(dependsOn: ['deleteIt','copyData']){
    doLast{
        println 'other Task'
    }
}







task distributionPacking() {
    doFirst{
        File configFile = file('src')
//        println "Contents of $configFile.name"
//        println fileTree("src/main/webapp").files.name
//        println "Starting Task"
    }
}


distributionPacking.dependsOn other
